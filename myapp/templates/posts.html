{% extends 'base.html' %}
{%block title%}My Posts {%endblock%}
{%block content%}
{% with messages= get_flashed_messages() %}
    {% if messages %}
        {% for message in messages %}
            {{ message }}
        {% endfor%}
    {% endif %}
{% endwith %}
<form action="{{url_for('search')}}" method="POST">
    <input type="text" name="keyword" placeholder="Введите слово для поиска">
    <button type="submit">Поиск</button>
</form>

{% if keyword%}
    <p>Вот что нашлось для: <strong>{{keyword}}</strong></p>
{% endif%}

<form action="{{ url_for('create_post') }}" method="POST">
    <input type="text" name="title" placeholder="Enter Title"> <br> <br>
    <textarea name="content" placeholder="Enter Post" rows="5" cols="30"></textarea> <br>
    <button type="submit">Send Post</button>
</form>
<h1>My Posts</h1>
<ul>
    {% for post in posts%}
    <li style="list-style-type: none">
        <h5>{{post.title}}</h5>
        <p>{{post.content}}</p>
        <form action="{{ url_for('update_post', post_id=post.id) }}" method="get" style="display:inline;">
            <button type="submit">Edit</button>
        </form>
        <form action="{{ url_for('delete_post', post_id=post.id) }}" method="post" style="display:inline;">
            <button type="submit">Delete</button>
        </form>
    </li> <br>
    {% endfor%}
</ul>
{%endblock%}